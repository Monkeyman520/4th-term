##### 201926010214-软件1902-侯茱元

9.4  某个计算机给它的用户提供了232的虚拟内存空间，计算机有`214B`的物理内存，虚拟内存使用页面大小为`4094B`的分页机制实现。一个用户进程产生虚拟地址11123456，现在说明一下系统怎么样建立相应的物理地址，区分一下软件操作和硬件操作。

> 该虚拟地址的二进制形式是 0001 0001 0001 0010 0011 0100 0101 0110。由于页面大小为$2^{12}$，页表大小为$2^{20}$，因此，低12位的“0100 0101 0110 ”被用来替换页，而前20位“0001 0001 0001 0010 0011”被用来替换页表。

9.5  假设有一个请求调页存储器，页表放在寄存器中：处理一个页错误，当有空的帧或被置换的页设有被修改过时要用`8ms`，当被置换的页被修改过明用`20ms`，存储器访问时间为`100ns`。假设被置换的页中有70％被修改过，有效访问时间不超过`200ns`时最大可接受的页错误率是多少？

> 0.0002 ms = (1 − P) × 0.0001 ms + `(0.3P)` × 8 ms + `(0.7P)` × 20 ms
> 0.1 =` −0.1P `+ 2400 P + 14000 P
> 0.1 = 16,400 P
> P _ 0.000006


9.10  假设一个具有下面时间度量利用率的请求调页系统：

CPU利用率20％，分页磁盘 97.7％，其他I/O设备，5％

说明下面哪一个（可）能提高CPU的利用率，为什么？

A安装一个更快的CPU

B安装一个更大的分页磁盘

C提高多道程序设计程序

D降低多道程序设计程度

E安装更多内存

F安装一个更快的硬盘，或对多个硬盘使用多个控制器

G对页面调度算法添加预取页

H增加页面大小。

> 该系统显然花费了许多时间进行分页，显示过度分配的内存，如果多级程序水平减少驻地进程，将页面错误变少和提高CPU利用率。另一种方式来提高利用率是获得更多的物理内存或更快的分页鼓。
> ABC都不行，D可以
> E.可能提高CPU利用率为更多页面保持驻地，而不需要分页或磁盘。
> F.另一个改进，因为磁盘的瓶颈是删除更快的响应，和更多的磁盘容量，CPU将会获得更多的数据传输速度
> G.`CPU`将获得更快的数据传输率，所以更多地被使用。如果分页服从预调（即一些访问顺序）这只是一个方面。
> H.增加页面大小将导致减少页面错误，如果数据进行是随机的，则分页可以随之，因为较少页面可保存在内存上，更多的数据转移到页面错误 上，这种 变化可以减少CPU利用率或者增加CPU利用率。

9.13 一个页面置换算法应使发生页错误的次数最小化。怎样才能通过将使用频率高的页平均分配到整个内存而不只是竞争少数几个页帧页来达到这种最小化。可以对每个页帧设置一个计数器来记录与此帧相关的页数。那么当置换一个页时，就可以查找计数器值最小的页帧

> a.定义一个页面置换算法解决问题：
>          Ⅰ.计数器初始值——0；
>          Ⅱ.计数器值增加——每当新的一页与此帧相关联；
>          Ⅲ.计数器值减少——每当与此帧相关联的一个页不再需要；
>          Ⅳ.怎样选择要被置换的页——找到带有最小计数器值的帧。使用先进先出算法解除其关系
> b.`14个页错误`
> c.`11个页错误`



